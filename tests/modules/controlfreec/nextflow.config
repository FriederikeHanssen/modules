process {

    publishDir = { "${params.outdir}/${task.process.tokenize(':')[-1].tokenize('_')[0].toLowerCase()}" }

    withName:CONTROLFREEC_SOMATIC{
        ext.args = { [
                    "sample":[
                        "inputformat": 'pileup',
                        "mateorientation": 'FR'
                    ],
                    "general" :[
                        "bedgraphoutput": 'TRUE',
                        "noisydata": 'TRUE',
                        "sex": meta.sex,
                        "window": '10',
                        "minexpectedgc": '0',
                        "readcountthreshold": '1'
                        ],
                    "control":[
                        "inputformat": "pileup",
                        "mateorientation": "FR"
                    ]
                    ]
        }
    }
}
